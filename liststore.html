<!DOCTYPE HTML>
<html>
<head>
<title>GROCERY ASSISTANT</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<link href="resources/css/css/bootstrap1.css" rel='stylesheet' type='text/css' />
<link href='https://fonts.googleapis.com/css?family=Great+Vibes' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:700,700italic,800,300,300italic,400italic,400,600,600italic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:400,700,400italic' rel='stylesheet' type='text/css'>
<!--Custom-Theme-files-->
	<link href="resources/css/css/style1.css" rel='stylesheet' type='text/css' />	
		<link href="resources/css/css/component.css" rel='stylesheet' type='text/css' />	
		<link href="resources/css/css/nav.css" rel='stylesheet' type='text/css' />	
		<link rel="apple-touch-icon" sizes="76x76" href="resources/images/img/apple-icon.png" />
	<link rel="icon" type="image/png" href="resource/images/img/favicon.png" />

	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />


	<!-- CSS Files -->


	<!-- CSS Just for demo purpose, don't include it in your project -->

	<script src="resources/js/js/jquery.min.js"> </script>
<!--/script-->
<script src="http://use.edgefonts.net/source-sans-pro:n2:default.js" type="text/javascript"></script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<script src="resources/js/js/modernizr.custom.js"> </script>
<script type="text/javascript" src="resources/js/js/move-top.js"></script>
<script type="text/javascript" src="resources/js/js/easing.js"></script>
<script type="text/javascript">
	window.onload = function() 
	{
	var zipValue = localStorage.getItem('zipKey');
	console.log(zipValue);
	if (zipValue != "undefined" || zipValue != "null") {
			//document.getElementById('zipMessage').innerHTML = "These are the stores in and around zip code " + zipValue + "!";
			}
	dbParam = JSON.stringify(zipValue);
	//console.log(typeof dbParam);
	xmlhttp = new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
	if (this.readyState == 4 && this.status == 200) 
		{
		var storeOptionsObj = JSON.parse(this.responseText);
		$("#storelocation").ready(function(){
		for(var i=0;i<storeOptionsObj.store.length;i++)
			{
		var storeObj=storeOptionsObj.store[i].store;
		var txt1 = "<div class =\"store\" onClick=\"getStoreItems("+ storeObj.store_id +")\"><h2 > "+storeObj.store_name+"</h2>	 <p>"+storeObj.address+","+storeObj.city+","+ storeObj.state+","+ storeObj.zipcode+"</p></div>";
		$("#storelocation").append(txt1);
		}
		});
		
		}
	}
	xmlhttp.open("GET", "getStores.php?zipValue=" + dbParam, true);
	xmlhttp.send();
	/*
		// Retrieve the zip entered by user on previous page
		var zipValue = localStorage.getItem('zipKey');
		if (zipValue != "undefined" || zipValue != "null") {
			document.getElementById('zipMessage').innerHTML = "These are the stores in and around zip code " + zipValue + "!";
			//var zipJSONValue = JSON.stringify(zipValue);
			//localStorage.setItem("zipJSON": zipJSONValue); //to be caught by Amit in backend PHP to query Store table using zip code and return list of stores
			
			//Amit will locally store list of stores as storeOptionsJSON
			var storeOptionsObj = JSON.parse(localStorage.getItem("storeOptionsJSON"));
			for (var storeItem in storeOptionsObj){
				var txt1 = " <div class=\"store\" onClick=showProducts()><p>"+storeOptionsObj[storeItem]+"</p> </div>";
				$("#storeDiv").append(txt1);										
			}
			
		} 
		else
			document.getElementById('zipMessage').innerHTML = "Invalid zip!";
		localStorage.clear();
		*/
	}
	function getStoreItems(store_id){
	 console.log(store_id);
	 localStorage.setItem('store_id', store_id);
	 location.href = 'category.html';
	}
	function showProducts(){
		var storeIDValue = $(this).store_id.value;
		localStorage.setItem('storeIDJSON', JSON.stringify(storeIDValue)); 
		
	}
</script>
<!-- Add fancyBox main JS and CSS files -->
		<script src="resources/js/js/jquery.magnific-popup.js" type="text/javascript"></script>
		<link href="resources/css/css/magnific-popup.css" rel="stylesheet" type="text/css">
		<script>
			$(document).ready(function() {
				$('.popup-with-zoom-anim').magnificPopup({
					type: 'inline',
					fixedContentPos: false,
					fixedBgPos: true,
					overflowY: 'auto',
					closeBtnInside: true,
					preloader: false,
					midClick: true,
					removalDelay: 300,
					mainClass: 'my-mfp-zoom-in'
			});
		});
		</script>
		<!---->
<!--animate-->
<link href="resources/css/css/animate.css" rel="stylesheet" type="text/css" media="all">
<script src="resources/js/js/wow.min.js"></script>
	<script>
		 new WOW().init();
	</script>
<!--//end-animate-->

</head>
<body>
	<div class="container demo-2" id="home">
	<header>
                

    <nav class="cd-stretchy-nav">
		<a class="cd-nav-trigger" href="#0">
			<h6>Menu</h6>
			<span aria-hidden="true"></span>
		</a>


		<ul class="side_nav">
          
                    <li><a href="home.html" ><span>Home</span></a></li>
                    <li><a href="about.html"><span>About</span></a></li>
                    <li><a href="store.html" ><span>Find Store</span></a></li>
                    <li><a href="map.html" ><span>List Map</span></a></li>
                    <li><a href="contact.html" ><span>Contact US</span></a></li>
		</ul>



		<span aria-hidden="true" class="stretchy-nav-bg"></span>
	</nav>

</header>
	<!--#carbonads-container-->
			
	

        <main role="main">
  <section id="storelocation">	
  
  
  <!--
	  <div class="store" onClick="window.location.href='category.html'">
			<h2> Target </h2>	 
		  	<p>255 Greenwich St, New York, NY 10007</p>
	  </div>
	  
	  <div class="store" onClick="window.location.href='category.html'">
			<h2> Walmart </h2>	 
		  	<p>142 E 14th St, New York, NY 10003</p>
	  </div>
	  
	  <div class="store" onClick="window.location.href='category.html'">
			<h2> Duane Reade </h2>	 
		  	<p>4 Union Square W, New York, NY 10003</p>
	  </div>
	  -->
		
    </main>
	   <!--copy-right-->
		<div class="copy">
		    <p class="wow fadeInUp animated animated" data-wow-delay=".5s">Copyright &copy; 2018 | Designed by Amit R. Bathija; Nan Xia; Prajna Boppana; Zijiang Zhao; Supriya Jha   </p>
		</div>
	 <!--//copy-right-->
		<!--//footer-->
			<!--start-smooth-scrolling-->
						<script type="text/javascript">
									$(document).ready(function() {
										/*
										var defaults = {
								  			containerID: 'toTop', // fading element id
											containerHoverID: 'toTopHover', // fading element hover id
											scrollSpeed:1000,
											easingType: 'linear' 
								 		};
										*/
										
										$().UItoTop({ easingType: 'easeOutQuart' });
										
									});
								</script>
		<a href="home.html" id="toTop" class="scroll" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>





		<script>
function form1(evt, type) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(type).style.display = "block";
    evt.currentTarget.className += " active";
}
</script>
		<script src="resources/js/js/rAF.js"></script>
        <script src="resources/js/js/demo-2.js"></script>
		<script src="resources/js/js/main.js"></script> <!-- Resource jQuery -->

<!-- for bootstrap working -->
<!-- //for bootstrap working -->
 <script src="resources/js/js/jquery-2.2.4.min.js" type="text/javascript"></script>
	<script src="resources/js/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="resources/js/js/jquery.bootstrap.js" type="text/javascript"></script>






</body>
</html>
